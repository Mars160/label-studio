<% const pageContainsHeadings = page.content.includes("<h2") %>
<% const tocPageTypes = page.type === "guide" || page.type === "blog" || page.type === "templates" || page.type === "tags" %>

<% const showToc = pageContainsHeadings && tocPageTypes %>

<div class="content-grid">
  <div class="content-markdown">
    <% if(page.parent !== undefined) { %>
      breadcrumb here
      <a href="<%- url_for(page.type + "/"Â + page.parent) %>">Parent</a>
      <%- page.parent %>
    <% } %>
    <% if (page.title.trim()) { %>
      <%- partial("component/heading", {text: page.title, size: "XLarge", tag: "h1", customClass: "home-page-title"}) %>
    <% } %>
    <%- page.content %>
  </div>
  <% if (showToc) { %>
    <div class="toc">
      <%- partial("component/text", {text: "In this article", tag: "h3", size: "Eyebrow"}) %>
      <%- toc(page.content, {max_depth: 2, list_number: false, class: "toc-list"}) %>
    </div>
    <% } %>
</div>